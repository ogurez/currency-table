{"version":3,"sources":["Calendar.js","Row.js","Table.js","App.js","store.js","index.js"],"names":["Calendar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onChange","e","setDate","target","value","type","bind","assertThisInitialized","react_default","a","createElement","Component","connect","state","_ref","dispatch","_ref2","date","payload","defineProperty","Row","Cur_Abbreviation","Cur_ID","Cur_Name","Cur_OfficialRate","Cur_Scale","Date","Table","fetchData","fetch","concat","then","res","json","setState","data","sortBy","key","direction","sort","console","log","sortedData","_","reverse","prevProps","rows","map","rowData","index","src_Row","assign","onClick","App","src_Calendar","src_Table","currentDate","objectSpread","initStore","store","createStore","arguments","length","undefined","action","ReactDOM","render","es","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.f1b1a2e8.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './App.css';\r\nimport {connect} from 'react-redux';\r\n\r\nclass Calendar extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n  \r\n  onChange = (e) => {\r\n    this.props.setDate(e.target.value, this.props.type)\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <input value={this.props.value} type='date' onChange={this.onChange}></input>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps=(state, {type})=>{\r\n  return {\r\n    value: state[type]\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps=(dispatch, {type})=>{\r\nreturn {\r\n  setDate: (date)=>dispatch({type:\"SET_DATE\", payload: {[type]: date}})\r\n}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Calendar);","import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\nconst Row = ({Cur_Abbreviation, Cur_ID, Cur_Name, Cur_OfficialRate, Cur_Scale, Date}) =>(\r\n <tr>\r\n   <th>{Cur_Abbreviation}</th>\r\n   <th>{Cur_ID}</th>\r\n   <th>{Cur_Name}</th>\r\n   <th>{Cur_OfficialRate}</th>\r\n   <th>{Cur_Scale}</th>\r\n   <th>{Date}</th>\r\n </tr>\r\n);\r\n\r\nexport default Row;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Row from './Row';\r\nimport _ from 'lodash';\r\n\r\n\r\nclass Table extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      data: [],\r\n      sort: {\r\n        key: null,\r\n        direction: 'desc'\r\n      }\r\n    }\r\n    \r\n    this.sortBy = this.sortBy.bind(this);\r\n  }\r\n\r\n  fetchData = () => {\r\n    fetch(`http://www.nbrb.by/API/ExRates/Rates?onDate=${this.props.date}&Periodicity=0`)\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        this.setState({\r\n          data: res\r\n        })\r\n      })     \r\n  }\r\n\r\n  sortBy = (key) => (e) =>{\r\n    const direction = this.state.sort.key ? (this.state.sort.direction === 'asc' ? 'desc' : 'asc') : 'desc';\r\n    console.log(key);\r\n    const sortedData = _.sortBy(this.state.data, [key]);\r\n    \r\n    if (direction === 'desc'){\r\n      sortedData.reverse();\r\n    }\r\n\r\n    this.setState({\r\n      data: sortedData,\r\n      sort : {\r\n        key,\r\n        direction\r\n      }\r\n    })\r\n  } \r\n\r\n  componentDidMount(){\r\n    this.fetchData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.date !== prevProps.date) {\r\n      this.fetchData();\r\n    }\r\n  }\r\n \r\n  render() {\r\n    const rows = this.state.data.map((rowData, index)=> <Row key={index} {...rowData}/>);\r\n    return (\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th onClick={this.sortBy('Cur_Abbreviation')}>Abbrevation</th>\r\n            <th onClick={this.sortBy('Cur_ID')}>ID</th>\r\n            <th onClick={this.sortBy('Cur_Name')}>Name</th>\r\n            <th onClick={this.sortBy('Cur_OfficialRate')}>Rate</th>\r\n            <th onClick={this.sortBy('Cur_Scale')}>Scale</th>\r\n            <th onClick={this.sortBy('Date')}>Date</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{rows}</tbody>\r\n      </table>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Table;\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport Calendar from './Calendar';\nimport Table from './Table';\nimport {connect} from 'react-redux';\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    // this.setDate = this.setDate.bind(this);\n  }\n\n  // setDate = (value) => {\n  //   this.setState({\n  //     currentDate: value\n  //   })\n  // }\n\n  render() {\n    return (\n      <div>\n        <h1>Курс белорусского рубля к другим иностранным валютам</h1>\n        <Calendar type='currentDate'/>\n        <Table date={this.props.currentDate}/>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps=(state)=>{\n  return {\n    ...state\n  };\n};\n\nexport default connect(mapStateToProps)(App);\n","import {createStore} from 'redux';\r\n\r\nconst initStore = {\r\n  currentDate: '2019-01-08'\r\n}\r\n\r\nconst reducer = (state=initStore, action) =>{\r\n  if(action.type==='SET_DATE'){\r\n    return {...state, ...action.payload};\r\n  }\r\n  return state;\r\n}\r\n\r\nexport const store = createStore(reducer);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from 'react-redux';\nimport {store} from './store';\n\nReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>, document.getElementById('root'));\n\n"],"sourceRoot":""}